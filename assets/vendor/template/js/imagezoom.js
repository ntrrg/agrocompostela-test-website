/**
 * ImageZoom Plugin
 * http://0401morita.github.io/imagezoom-plugin
 * MIT licensed
 *
 * Copyright (C) 2014 http://0401morita.github.io/imagezoom-plugin A project by Yosuke Morita
 */
!function(c){var n,a,m,u,g,z,l={cursorcolor:"255,255,255",opacity:.5,cursor:"crosshair",zindex:2147483647,zoomviewsize:[480,395],zoomviewposition:"right",zoomviewmargin:10,zoomviewborder:"none",magnification:1.925},d={init:function(s){$this=c(this),n=c(".imagezoom-cursor"),a=c(".imagezoom-view"),c(document).on("mouseenter",$this.selector,function(o){var i=c(this).data();m=c.extend({},l,s,i),z=c(this).offset(),u=c(this).width(),g=c(this).height(),cursorSize=[m.zoomviewsize[0]/m.magnification,m.zoomviewsize[1]/m.magnification],1==i.imagezoom?imageSrc=c(this).attr("src"):imageSrc=c(this).get(0).getAttribute("data-imagezoom");var e,r=o.pageX,t=o.pageY;c("body").prepend('<div class="imagezoom-cursor">&nbsp;</div><div class="imagezoom-view"><img src="'+imageSrc+'"></div>'),e="right"==m.zoomviewposition?z.left+u+m.zoomviewmargin:z.left-u-m.zoomviewmargin,c(a.selector).css({position:"absolute",left:e,top:z.top,width:cursorSize[0]*m.magnification,height:cursorSize[1]*m.magnification,background:"#000","z-index":2147483647,overflow:"hidden",border:m.zoomviewborder}),c(a.selector).children("img").css({position:"absolute",width:u*m.magnification,height:g*m.magnification}),c(n.selector).css({position:"absolute",width:cursorSize[0],height:cursorSize[1],"background-color":"rgb("+m.cursorcolor+")","z-index":m.zindex,opacity:m.opacity,cursor:m.cursor}),c(n.selector).css({top:t-cursorSize[1]/2,left:r}),c(document).on("mousemove",document.body,d.cursorPos)})},cursorPos:function(o){var i=o.pageX,e=o.pageY;if(e<z.top||i<z.left||e>z.top+g||i>z.left+u)return c(n.selector).remove(),void c(a.selector).remove();i-cursorSize[0]/2<z.left?i=z.left+cursorSize[0]/2:i+cursorSize[0]/2>z.left+u&&(i=z.left+u-cursorSize[0]/2),e-cursorSize[1]/2<z.top?e=z.top+cursorSize[1]/2:e+cursorSize[1]/2>z.top+g&&(e=z.top+g-cursorSize[1]/2),c(n.selector).css({top:e-cursorSize[1]/2,left:i-cursorSize[0]/2}),c(a.selector).children("img").css({top:(z.top-e+cursorSize[1]/2)*m.magnification,left:(z.left-i+cursorSize[0]/2)*m.magnification}),c(n.selector).mouseleave(function(){c(this).remove()})}};c.fn.imageZoom=function(o){return d[o]?d[o].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof o&&o?void c.error(o):d.init.apply(this,arguments)},c(document).ready(function(){c("[data-imagezoom]").imageZoom()})}(jQuery);
